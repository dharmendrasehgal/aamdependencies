/*
 @license jQuery Toggles v3.1.5
Copyright 2012 - 2015 Simon Tabor - MIT License
https://github.com/simontabor/jquery-toggles / http://simontabor.com/labs/toggles
*/
(function(n){var t=function(t){var i=n.Toggles=function(n,i){var r=this,f,e,u,o;if(typeof i=="boolean"&&n.data("toggles")){n.data("toggles").toggle(i);return}for(f=["on","drag","click","width","height","animate","easing","type","checkbox","showOnOffReversed"],e={},u=0;u<f.length;u++)o=n.data("toggle-"+f[u]),typeof o!="undefined"&&(e[f[u]]=o);i=r.opts=t.extend({drag:!0,click:!0,text:{on:"ON",off:"OFF"},on:!1,animate:250,easing:"swing",checkbox:null,clicker:null,width:50,height:20,type:"compact",showOnOffReversed:!1,event:"toggle"},i||{},e);r.el=n;n.data("toggles",r);r.selectType=i.type==="select";r.checkbox=t(i.checkbox);i.clicker&&(r.clicker=t(i.clicker));r.createEl();r.bindEvents();r.active=!i.on;r.toggle(i.on,!0,!0)};i.prototype.createEl=function(){var n=this,i=n.el.height(),r=n.el.width(),e;i||n.el.height(i=n.opts.height);r||n.el.width(r=n.opts.width);n.h=i;n.w=r;e=function(n){return t('<div class="toggle-'+n+'">')};n.els={slide:e("slide"),inner:e("inner"),on:e("on"),off:e("off"),blob:e("blob")};var o=i/2,f=r-o,u=n.selectType;n.els.blob.css({height:i-4,width:i-4,marginLeft:-o+2,marginTop:2});n.opts.showOnOffReversed?(n.els.off.css({height:i,width:f,textIndent:u?"":o-6,lineHeight:i+"px"}).html(n.opts.text.off),n.els.on.css({height:i,width:f,marginLeft:u?"":-o,textIndent:u?"":f/2,lineHeight:i+"px"}).html(n.opts.text.on),n.els.inner.css({width:r*2-i,marginLeft:u||n.active?-r+i:0})):(n.els.on.css({height:i,width:f,textIndent:u?"":o-6,lineHeight:i+"px"}).html(n.opts.text.on),n.els.off.css({height:i,width:f,marginLeft:u?"":-o,textIndent:u?"":f/2,lineHeight:i+"px"}).html(n.opts.text.off),n.els.inner.css({width:r*2-i,marginLeft:u||n.active?0:-r+i}));n.selectType&&(n.els.slide.addClass("toggle-select"),n.el.css("width",f*2),n.els.blob.hide());n.opts.showOnOffReversed?n.els.inner.append(n.els.off,n.els.blob,n.els.on):n.els.inner.append(n.els.on,n.els.blob,n.els.off);n.els.slide.html(n.els.inner);n.el.html(n.els.slide)};i.prototype.bindEvents=function(){var n=this,t=function(t){t.target===n.els.blob[0]&&n.opts.drag||n.toggle()};if(n.opts.click&&(!n.opts.clicker||!n.opts.clicker.has(n.el).length))n.el.on("click",t);if(n.opts.clicker)n.opts.clicker.on("click",t);n.opts.drag&&!n.selectType&&n.bindDrag()};i.prototype.bindDrag=function(){var n=this,t,r=(n.w-n.h)/4,u=function(i){if(n.el.off("mousemove"),n.els.slide.off("mouseleave"),n.els.blob.off("mouseup"),!t&&n.opts.click&&i.type!=="mouseleave"){n.toggle();return}var u=n.opts.showOnOffReversed?n.active?t>r:t<-r:n.active?t<-r:t>r;u?n.toggle():n.els.inner.stop().animate({marginLeft:n.opts.showOnOffReversed?n.active?-n.w+n.h:0:n.active?0:-n.w+n.h},n.opts.animate/2)},i=-n.w+n.h;n.els.blob.on("mousedown",function(r){t=0;n.els.blob.off("mouseup");n.els.slide.off("mouseleave");var f=r.pageX;n.el.on("mousemove",n.els.blob,function(r){t=r.pageX-f;var u;n.active?(u=n.opts.showOnOffReversed?t+i:t,(n.opts.showOnOffReversed&&t>-i||!n.opts.showOnOffReversed&&t>0)&&(u=0),(n.opts.showOnOffReversed&&t<0||!n.opts.showOnOffReversed&&t<i)&&(u=i)):(u=n.opts.showOnOffReversed?t:t+i,(n.opts.showOnOffReversed&&t<i||!n.opts.showOnOffReversed&&t<0)&&(u=i),(n.opts.showOnOffReversed&&t>0||!n.opts.showOnOffReversed&&t>-i)&&(u=0));n.els.inner.css("margin-left",u)});n.els.blob.on("mouseup",u);n.els.slide.on("mouseleave",u)})};i.prototype.toggle=function(n,t,i){var r=this,u,f;r.active!==n&&((u=r.active=!r.active,r.el.data("toggle-active",u),r.els.off.toggleClass("active",!u),r.els.on.toggleClass("active",u),r.checkbox.prop("checked",u),i||r.el.trigger(r.opts.event,u),r.selectType)||(f=r.opts.showOnOffReversed?u?-r.w+r.h:0:u?0:-r.w+r.h,r.els.inner.stop().animate({marginLeft:f},t?0:r.opts.animate)))};t.fn.toggles=function(n){return this.each(function(){new i(t(this),n)})}};typeof define=="function"&&define.amd?define(["jquery"],t):t(n.jQuery||n.Zepto||n.ender||n.$||$)})(this)
